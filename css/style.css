/* --- Styles de base du Dashboard --- */

:root {
  --bg: #0a0f1f;
  --surface: #0f172a;
  --surface-hover: #131c33;
  --elev: #1e293b;
  --text: #e2e8f0;
  --muted: #94a3b8;
  --border: #334155;
  --accent-green: #22c55e;
  --accent-blue: #3b82f6;
  --accent-orange: #f59e0b;
  --danger: #ef4444;
  --warn: var(--accent-orange);
  --ok: var(--accent-green);
  --over: var(--accent-blue);
  --chip-bg: #1e293b;
  --chip-border: #334155;
  --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
  --favorite: #e11d48;
}

[data-theme="light"] {
  --bg: #f8fafc;
  --surface: #ffffff;
  --surface-hover: #f1f5f9;
  --elev: #e2e8f0;
  --text: #0f172a;
  --muted: #64748b;
  --border: #e2e8f0;
  --accent-green: #16a34a;
  --accent-blue: #2563eb;
  --accent-orange: #d97706;
  --danger: #dc2626;
  --warn: var(--accent-orange);
  --chip-bg: #f8fafc;
  --chip-border: #e2e8f0;
  --shadow: 0 4px 6px -1px rgba(15, 23, 42, 0.05), 0 2px 4px -2px rgba(15, 23, 42, 0.05);
  --shadow-lg: 0 10px 15px -3px rgba(15, 23, 42, 0.05), 0 4px 6px -4px rgba(15, 23, 42, 0.05);
  --favorite: #be123c;
}
*{ box-sizing:border-box; }
body{ margin:0; font-family:'Roboto', system-ui, sans-serif; font-size: 15px; color:var(--text); background:var(--bg); transition: background .2s ease, color .2s ease; }
.grid{ display:grid; grid-template-columns:repeat(12,1fr); gap:16px; padding:16px; }
.card{ background:var(--surface); border:1px solid var(--border); border-radius:16px; box-shadow:var(--shadow-lg); padding:16px; transition: background .2s ease, border-color .2s ease; }
@media (max-width: 1080px){ .grid{grid-template-columns: 1fr} }
.app-hero{ padding:16px; border-bottom:1px solid var(--border); background:var(--surface); }
.hero-inner{ max-width:1200px; margin:0 auto; }
h1{ margin:4px 0; font-size: clamp(20px, 2.1vw, 28px); font-weight:700; color: var(--text); }
.sub{ color:var(--muted); font-size:14px; margin-top:4px; }
.tabs{ display:flex; gap:8px; padding:16px 16px 8px; flex-wrap:wrap; max-width:1200px; margin: 0 auto; }
.tab{ cursor:pointer; padding:10px 14px; border-radius:10px; background:var(--elev); border:1px solid var(--border); user-select:none; font-weight:600; transition:all .2s ease; }
.tab:hover{ transform:translateY(-1px); border-color:var(--accent-blue); }
.tab.active{ background:var(--accent-blue); border-color:var(--accent-blue); color:#fff; }
.panel{ display:none; max-width:1200px; margin: 0 auto; }
.panel.active{ display:block; }
input, select, button, textarea{ font:inherit; color:var(--text); background:var(--elev); border:1px solid var(--border); border-radius:10px; outline:none; transition: all .2s ease; }
input, select, textarea{ width:100%; padding:10px 14px; font-size:14px; }
textarea{ min-height:120px; resize:vertical; line-height:1.6; }
input:focus, select:focus, textarea:focus{ border-color:var(--accent-blue); box-shadow:0 0 0 2px color-mix(in srgb, var(--accent-blue) 25%, transparent); }
.btn, a.btn { padding:10px 16px; cursor:pointer; font-weight:600; display:inline-flex; align-items:center; justify-content:center; gap:8px; text-decoration: none !important; color: var(--text) !important; border-radius: 10px;}
.btn:hover, a.btn:hover { transform:translateY(-1px); filter:brightness(1.1); }
.btn:active, a.btn:active { transform:translateY(0); filter:brightness(1); }
.btn-primary, a.btn-primary { background:var(--accent-green); color:#fff !important; border-color:transparent; }
.btn-ghost, a.btn-ghost { background:transparent; border-color:var(--border); }
.btn-ghost:hover, a.btn-ghost:hover { background:var(--surface-hover); border-color:color-mix(in srgb, var(--text) 25%, transparent); }
.btn-danger, a.btn-danger { background:var(--danger); color:#fff !important; border-color:transparent; }
.kpi{ display:flex; flex-direction:column; gap:6px; flex:1; min-width:200px; }
.kpi .label{ color:var(--muted); font-size:13px; font-weight:500; }
.kpi .value{ font-size:clamp(20px,3vw,28px); font-weight:700; }
.kpi .delta{ font-size:12px; color:var(--muted); }
.progress{ height:12px; background:var(--elev); border:1px solid var(--border); border-radius:999px; overflow:hidden; margin-top:8px; }
.bar{ height:100%; background:linear-gradient(90deg,var(--accent-green),var(--accent-blue)); width:0%; }
.table-wrap{ overflow:auto; }
table{ width:100%; min-width:980px; border-collapse:separate; border-spacing:0; }
th,td{ padding:12px 10px; border-bottom:1px solid var(--border); font-size:14px; text-align:left; }
thead th{ position:sticky; top:0; background:var(--surface); z-index:1; font-weight:600; }
tbody tr:hover { background:var(--surface-hover); }
footer{ color:var(--muted); padding:16px; text-align:center; font-size:12px; }
.hr{ height:1px; background:var(--border); margin:16px 0; }
.section-title{ margin:0 0 12px; font-weight:600; font-size:18px; }
.note{ font-size:12px; color:var(--muted); }
.actions{ display:flex; gap:10px; flex-wrap:wrap; }
.row{ display:flex; gap:12px; align-items:center; flex-wrap:wrap; margin-bottom:12px; }
.row:last-child { margin-bottom: 0; }
.small{ font-size:13px; color:var(--muted); }
.badge{display:inline-flex; align-items:center; gap:6px; padding:4px 10px; border-radius:999px; border:1px solid; font-size:12px; font-weight:500;}
.badge-warn{border-color:var(--warn); color:var(--warn)}
.badge-ok{border-color:var(--ok); color:var(--ok)}
.badge-over{border-color:var(--over); color:var(--over)}
.chart{ height:220px; }
.week-row { display: flex; align-items: center; gap: 12px; padding: 8px; border-radius: 8px; transition: background-color 0.2s ease; }
.week-row:hover { background-color: var(--surface-hover); }
.wk-label { width: 320px; font-family: monospace; font-size: 13px; color: var(--muted); display: flex; flex-direction: column; }
.wk-label small { font-size: 11px; opacity: 0.8; }
.wk-val { width: 160px !important; }
#plan-panel .mgoal { flex: 0 0 18ch; min-width: 180px; font-size: 1.1rem; padding: .55rem .75rem; text-align: right; border-radius: .75rem; }
#plan-panel .mgoal:disabled { opacity: 1; background: var(--surface); border-style: dashed; }

/* --- Styles du module de prospection --- */

.form-section {
  background: var(--surface);
  border-radius: 12px;
  padding: 16px;
  margin-bottom: 24px;
}

.form-title h3 {
  margin: 0;
  font-size: 1.1rem;
}

.prospect-form {
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin-top: 16px;
}

.prospect-form .form-row {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.prospect-form input,
.prospect-form select {
  flex: 1;
}

.prospect-form button {
  width: 100%;
}

.prospect-stats {
  display: flex;
  flex-wrap: wrap;
  gap: 16px;
}

.stat-item {
  display: flex;
  flex-direction: column;
  padding: 12px 16px;
  border-radius: 12px;
  background-color: var(--elev);
  border: 1px solid var(--border);
}

.stat-item .stat-label {
  font-size: 0.8rem;
  color: var(--muted);
  text-transform: uppercase;
}

.stat-item .stat-value {
  font-size: 1.8rem;
  font-weight: bold;
}

.prospect-toolbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  flex-wrap: wrap;
  margin-bottom: 12px;
}

.toolbar-actions {
  display: flex;
  gap: 8px;
}

.table-container {
  overflow-x: auto;
}

.data-table {
  width: 100%;
  min-width: 900px;
  border-collapse: separate;
  border-spacing: 0;
  text-align: left;
}

.data-table th,
.data-table td {
  padding: 12px 10px;
  border-bottom: 1px solid var(--border);
  font-size: 12px;
}

.data-table thead th {
  position: sticky;
  top: 0;
  background: var(--surface);
  z-index: 1;
  font-weight: 600;
  white-space: nowrap;
}

.data-table tbody tr:hover {
  background: var(--surface-hover);
}

.status-chip {
  display: inline-block;
  padding: 4px 10px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 500;
  text-transform: capitalize;
  color: #fff;
}

.status-a-contacter { background-color: #3b82f6; }
.status-a-relancer { background-color: #f59e0b; }
.status-rdv-pris { background-color: #22c55e; }
.status-rdv-refusé { background-color: #ef4444; }

.btn-status {
    background-color: var(--elev);
    border: 1px solid var(--border);
    color: var(--text);
    padding: 4px 8px;
    border-radius: 6px;
    cursor: pointer;
    transition: background-color 0.2s;
}

.btn-status:hover {
    background-color: var(--surface-hover);
}

/* Styles pour les boutons de statut actifs */
.btn-status.active {
    background-color: var(--elev);
    border-color: transparent;
    color: var(--text);
}
.btn-status.active[data-status="A contacter"] {
    background-color: var(--accent-blue);
    border-color: transparent;
    color: #fff;
}
.btn-status.active[data-status="A relancer"] {
    background-color: var(--accent-orange);
    border-color: transparent;
    color: #fff;
}
.btn-status.active[data-status="RDV Pris"] {
    background-color: var(--accent-green);
    border-color: transparent;
    color: #fff;
}
.btn-status.active[data-status="RDV Refusé"] {
    background-color: var(--danger);
    border-color: transparent;
    color: #fff;
}


/* --- Modal Styles --- */
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.75);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
  display: none;
}

.modal-content {
  background-color: var(--elev);
  border: 1px solid var(--border);
  border-radius: 12px;
  box-shadow: var(--shadow-lg);
  width: min(500px, 90%);
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: 20px;
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.modal-header h4 {
  margin: 0;
}

.modal-body textarea {
  width: 100%;
  min-height: 150px;
}

.modal-footer {
    display: flex;
    justify-content: flex-end;
}

.btn-close {
  background: transparent;
  border: none;
  font-size: 1.5rem;
  color: var(--muted);
}

.toolbar-filters {
    display: flex;
    gap: 8px;
    margin-top: 8px;
}

/* Ajout des styles pour la poubelle et les icônes de note */
.action-buttons-cell {
  display: flex;
  align-items: center;
  gap: 8px;
}
